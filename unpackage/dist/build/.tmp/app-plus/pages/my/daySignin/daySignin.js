(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/daySignin/daySignin"],{"4df4":function(t,n,e){"use strict";var a;function i(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;getApp().globalData;var r=e("ec2b"),o=function(){return Promise.all([e.e("common/vendor"),e.e("components/uni-calendar/uni-calendar")]).then(e.bind(null,"8917"))},u=function(){return e.e("components/uni-popup/uni-popup").then(e.bind(null,"e8e6"))},c=(a={components:{uniCalendar:o,uniPopup:u},data:function(){return{hasEmptyGrid:!1,cur_year:"",cur_month:"",sintegral:"在签到5天即可获得双倍积分",flag:!0,todaySign:!1,continuity:0,signScore:0,signDay:"在签到5天即可获得双倍积分",days:"",todayIndex:"",weeks_ch:"",empytGrids:""}}},i(a,"components",{}),i(a,"props",{}),i(a,"onLoad",function(t){this.setNowDate()}),i(a,"methods",{setData:function(t){for(var n in t){var e=t[n];this[n]=e}},show:function(){var t=this;r.ajaxs("index/UserSign",{},function(n){t.setData({flag:!1,signScore:n.data.score,signDay:n.data.day,todaySign:!0}),t.setNowDate()})},hide:function(){this.setData({flag:!0})},getMonthDayList:function(){var t=this,n=new Date,e={year:t.cur_year?t.cur_year:n.getFullYear(),month:t.cur_month?t.cur_month:n.getMonth()+1};r.ajaxs("index/getUserSignLog",e,function(n){n.data.list.length;t.setData({days:n.data.list,todaySign:n.data.todaySign,continuity:n.data.continuity})})},signToday:function(){wx.showToast({title:"今日已签到",icon:"none"})},dateSelectAction:function(t){var n=t.currentTarget.dataset.idx;this.setData({todayIndex:n})},setNowDate:function(){var t=new Date,n=t.getFullYear(),e=t.getMonth()+1,a=t.getDate()-1,i=["日","一","二","三","四","五","六"];this.calculateEmptyGrids(n,e),this.getMonthDayList(),this.setData({cur_year:n,cur_month:e,weeks_ch:i,todayIndex:a})},getThisMonthDays:function(t,n){return new Date(t,n,0).getDate()},getFirstDayOfWeek:function(t,n){return new Date(Date.UTC(t,n-1,1)).getDay()},calculateEmptyGrids:function(t,n){var e=this.getFirstDayOfWeek(t,n),a=[];if(e>0){for(var i=0;i<e;i++)a.push(i);this.setData({hasEmptyGrid:!0,empytGrids:a})}else this.setData({hasEmptyGrid:!1,empytGrids:[]})},calculateDays:function(t,n){},handleCalendar:function(t){var n=t.currentTarget.dataset.handle,e=this.cur_year,a=this.cur_month;if("prev"===n){var i=a-1,r=e;i<1&&(r=e-1,i=12),this.setData({cur_year:r,cur_month:i}),this.getMonthDayList(),this.calculateEmptyGrids(r,i)}else{var o=a+1,u=e;o>12&&(u=e+1,o=1),this.setData({cur_year:u,cur_month:o}),this.getMonthDayList(),this.calculateEmptyGrids(u,o)}},toTop:function(t){var n=this;n.pageScrollTo({scrollTop:0,duration:0})}}),a);n.default=c},6015:function(t,n,e){"use strict";var a=e("bfdf"),i=e.n(a);i.a},"9e71":function(t,n,e){"use strict";var a,i=function(){var t=this,n=t.$createElement;t._self._c},r=[];e.d(n,"b",function(){return i}),e.d(n,"c",function(){return r}),e.d(n,"a",function(){return a})},bfdf:function(t,n,e){},ce62:function(t,n,e){"use strict";e.r(n);var a=e("4df4"),i=e.n(a);for(var r in a)"default"!==r&&function(t){e.d(n,t,function(){return a[t]})}(r);n["default"]=i.a},d189:function(t,n,e){"use strict";(function(t){e("f9cd"),e("921b");a(e("66fd"));var n=a(e("f8e0"));function a(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("6e42")["createPage"])},f8e0:function(t,n,e){"use strict";e.r(n);var a=e("9e71"),i=e("ce62");for(var r in i)"default"!==r&&function(t){e.d(n,t,function(){return i[t]})}(r);e("6015");var o,u=e("f0c5"),c=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);n["default"]=c.exports}},[["d189","common/runtime","common/vendor"]]]);