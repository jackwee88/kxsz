(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/huiyuanxinxi/huiyuanxinxi"],{"1c28":function(a,n,e){},"2dbf":function(a,n,e){"use strict";var t={"w-picker":()=>Promise.all([e.e("common/vendor"),e.e("components/w-picker/w-picker")]).then(e.bind(null,"d3c6"))},i=function(){var a=this,n=a.$createElement;a._self._c},o=[];e.d(n,"b",function(){return i}),e.d(n,"c",function(){return o}),e.d(n,"a",function(){return t})},"390c":function(a,n,e){"use strict";e.r(n);var t=e("b2f8"),i=e.n(t);for(var o in t)"default"!==o&&function(a){e.d(n,a,function(){return t[a]})}(o);n["default"]=i.a},"416b":function(a,n,e){"use strict";var t=e("1c28"),i=e.n(t);i.a},"4b38":function(a,n,e){"use strict";e.r(n);var t=e("2dbf"),i=e("390c");for(var o in i)"default"!==o&&function(a){e.d(n,a,function(){return i[a]})}(o);e("416b");var r,c=e("f0c5"),u=Object(c["a"])(i["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],r);n["default"]=u.exports},b2f8:function(a,n,e){"use strict";(function(a){function t(a,n,e){return n in a?Object.defineProperty(a,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[n]=e,a}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("ec2b"),o=function(){return Promise.all([e.e("common/vendor"),e.e("components/w-picker/w-picker")]).then(e.bind(null,"d3c6"))},r={components:{wPicker:o},data:function(){var a;return a={policy:"",signature:"",host:"",dir:"",accessid:"",gender:["男","女"],array:["一年级","二年级","三年级","四年级","五年级","六年级"]},t(a,"accessid",""),t(a,"uploadInfo",{nickname:"",avatar:"",gender:"",birthday:"",mobile:"",grade:"",province:"",city:"",area:"",region:[],classes:[]}),a},onLoad:function(){var a=this;i.ajaxs("index/getProfile","",function(n){var e={nickname:n.data.nickname,avatar:n.data.avatar,gender:n.data.gender,birthday:n.data.birthday,mobile:n.data.mobile,grade:n.data.grade,province:n.data.provincename,city:n.data.cityname,area:n.data.areaname,region:[n.data.provincename,n.data.cityname,n.data.areaname],type:""};""!=n.data.provincename&&void 0!=n.data.provincename&&null!=n.data.provincename||(e.region=["请选择省","市","区"]),a.setData({uploadInfo:e})}),this.getAli()},methods:{setData:function(a){for(var n in a){var e=a[n];this[n]=e}},changeAvatar:function(){var n=this;wx.chooseImage({count:n.count-n.num,sizeType:["compressed"],sourceType:["album","camera"],success:function(e){var t=e.tempFilePaths;a("log",e," at pages\\my\\huiyuanxinxi\\huiyuanxinxi.vue:155"),t.forEach(function(e,t,i){wx.showToast({title:"正在上传...",icon:"success",mask:!0,duration:1e4});var o=Date.parse(new Date)/1e3,r=String(o)+String(Math.floor(50*Math.random()));wx.uploadFile({url:n.host,filePath:e,name:"file",formData:{name:e,key:n.dir+"/"+r+".png",policy:n.policy,OSSAccessKeyId:n.accessid,success_action_status:"200",signature:n.signature},success:function(a){wx.hideToast(),n.uploadInfo.avatar=n.host+"/"+n.dir+"/"+r+".png"},fail:function(n){a("log",n," at pages\\my\\huiyuanxinxi\\huiyuanxinxi.vue:185")}})}),n.setData({imageSrc:t});var i=e.tempFilePaths;n.setData({tempFilePaths:i})}})},bindSexChange:function(a){this.uploadInfo.gender=a.target.value},bindBirthdayChange:function(a){this.uploadInfo.birthday=String(a.target.value)},bindClassChange:function(a){this.uploadInfo.grade=a.target.value},toggleTab:function(){this.$refs.region.show()},bindCityChange:function(n){a("log",n," at pages\\my\\huiyuanxinxi\\huiyuanxinxi.vue:223"),this.uploadInfo.province=n.checkArr[0],this.uploadInfo.city=n.checkArr[1],this.uploadInfo.area=n.checkArr[2],this.uploadInfo.region=n.checkArr},sengjibtn:function(){var a=this.uploadInfo;i.ajaxs("index/xcxProfile",a,function(a){wx.showToast({title:"更新成功"})},"application/json")},getAli:function(){var a=this,n={type:1};i.ajaxs("index/getOssPolicy",n,function(n){a.setData({policy:n.data.policy,signature:n.data.signature,host:n.data.host,dir:n.data.dir,accessid:n.data.accessid})})}}};n.default=r}).call(this,e("0de9")["default"])},f903:function(a,n,e){"use strict";(function(a){e("f9cd"),e("921b");t(e("66fd"));var n=t(e("4b38"));function t(a){return a&&a.__esModule?a:{default:a}}a(n.default)}).call(this,e("6e42")["createPage"])}},[["f903","common/runtime","common/vendor"]]]);