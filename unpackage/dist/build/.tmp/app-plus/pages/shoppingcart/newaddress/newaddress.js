(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shoppingcart/newaddress/newaddress","components/w-picker/w-picker"],{"18e8":function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;r(e("d3c6"));function r(t){return t&&t.__esModule?t:{default:t}}var s=e("ec2b"),n={data:function(){return{name:"",tel:"",detailedAddress:"",region:[],selected:!1,type:"",ar_id:"",index:"",p_id:"",quantity:"",cp_id:"",score:"",ct_id:"",goods_sku_id:"",address:"",totals:"",transport_total:"",s:0}},components:{},props:{},onLoad:function(a){var e=this,r=parseInt(a.ar_id);if(this.goods_sku_id=a.goods_sku_id,t("log",this.goods_sku_id," at pages\\shoppingcart\\newaddress\\newaddress.vue:95"),void 0!=a.list){if(wx.setNavigationBarTitle({title:"编辑地址"}),void 0==r)return this.type="",!1;e.type=1,e.ar_id=r,e.index=a.index,t("log","123+456"," at pages\\shoppingcart\\newaddress\\newaddress.vue:106"),s.ajax({url:"address/onelist",data:{ar_id:r},success:function(t){e.name=t.data.person,e.tel=t.data.mobile,e.region=[t.data.province,t.data.city,t.data.area],e.detailedAddress=t.data.address,e.selected=t.data.default}})}a.p_id&&(this.p_id=a.p_id,this.quantity=a.quantity,this.cp_id=a.cp_id,this.score=a.score,this.ct_id=a.ct_id)},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{toggleTab:function(){this.$refs.region.show()},bindRegionChange:function(t){this.region=t.detail.value},bindCityChange:function(a){t("log",a," at pages\\shoppingcart\\newaddress\\newaddress.vue:174"),this.region=a.checkArr},inputChange:function(t){var a=t.currentTarget,e=t.detail;this[a.dataset.value]=e.value},selectList:function(){this.selected=!this.selected},save:function(){t("log",this.region," at pages\\shoppingcart\\newaddress\\newaddress.vue:198");var a=this.region[0]+this.region[1]+this.region[2]||"";"undefined"==a&&(a="");var e=this;if(!/^1\d{10}$/.test(this.tel))return wx.showToast({title:"手机号不合法",icon:"none"}),!1;var r={person:this.name,mobile:this.tel,address:this.detailedAddress,default:this.selected?1:0,province:this.region[0],city:this.region[1],area:this.region[2],ar_id:this.ar_id,goods_sku_id:this.goods_sku_id},n={ar_id:this.ar_id,p_id:this.p_id,quantity:this.quantity,score:this.score,ct_id:this.ct_id,cp_id:this.cp_id};1==this.type?s.ajax({url:"address/edit",data:r,success:function(a){if(1==a.status){wx.showToast({title:"修改成功",duration:2e3,icon:"none"});var r=getCurrentPages(),d=r[r.length-2];1==e.selected&&s.ajax({url:"goods/OrderMoney",data:n,success:function(a){var r=getCurrentPages(),s=r[r.length-3];if(s&&"pages/onlinestore/sureorder/sureorder"==s.__route__){var n={address:a.data.address,ar_is:e.ar_id,area:a.data.area,city:a.data.city,province:a.data.province,mobile:e.tel,person:e.name};t("log",n," at pages\\shoppingcart\\newaddress\\newaddress.vue:268"),s.address=n,s.totals=a.data.amount.toFixed(2),s.transport_total=a.data.transport,s.s=1}t("log",s.data," at pages\\shoppingcart\\newaddress\\newaddress.vue:276"),d&&d.onLoad(),wx.navigateBack({delta:1})}})}else wx.showModal({title:"错误提示",content:a.msg,showCancel:!1})}}):s.ajax({url:"address/add",data:r,success:function(t){if(1==t.status){wx.showToast({title:"添加成功",duration:2e3});var a=getCurrentPages(),r=a[a.length-2];r.changeData(),1==e.selected&&(n.ar_id=t.data.ar_id,n.goods_sku_id=e.goods_sku_id,s.ajax({url:"goods/OrderMoney",data:n,success:function(e){if(0==e.data.send_status)return wx.showToast({title:"您所添加的地址不在配送范围内哦 ~",icon:"none"}),void wx.navigateBack({delta:1});var r=a[a.length-3];if(r){if("pages/onlinestore/sureorder/sureorder"==r.__route__){var s={address:t.data.address,ar_id:t.data.ar_id,area:t.data.area,city:t.data.city,province:t.data.province,mobile:t.data.mobile,person:t.data.person};r.address=s,r.totals=e.data.amount.toFixed(2),r.transport_total=e.data.transport}wx.navigateBack({delta:1})}}}))}else wx.showModal({title:"错误提示",content:t.msg,showCancel:!1})}})},toTop:function(t){var a=this;a.pageScrollTo({scrollTop:0,duration:0})}}};a.default=n}).call(this,e("0de9")["default"])},"3a9e":function(t,a,e){"use strict";var r,s=function(){var t=this,a=t.$createElement;t._self._c},n=[];e.d(a,"b",function(){return s}),e.d(a,"c",function(){return n}),e.d(a,"a",function(){return r})},"80a0":function(t,a,e){"use strict";e.r(a);var r=e("ad8d"),s=e.n(r);for(var n in r)"default"!==n&&function(t){e.d(a,t,function(){return r[t]})}(n);a["default"]=s.a},8972:function(t,a,e){"use strict";var r=e("8e33"),s=e.n(r);s.a},"8e33":function(t,a,e){},a7f9:function(t,a,e){},ac10:function(t,a,e){"use strict";var r=e("a7f9"),s=e.n(r);s.a},ad8d:function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=i(e("3c02")),s=i(e("3177")),n=i(e("4da7")),d=i(e("2736"));function i(t){return t&&t.__esModule?t:{default:t}}function l(t,a){for(var e=0;e<a.length;e++)if(t===a[e])return!0;throw new Error("mode无效，请选择有效的mode!")}var o={data:function(){return{result:[],data:{},checkArr:[],checkValue:[],pickVal:[],showPicker:!1,resultStr:"",itemHeight:"height: ".concat(t.upx2px(88),"px;")}},computed:{},props:{mode:{type:String,validator:function(t){var a=["half","date","dateTime","yearMonth","time","region","selector","limit","limitHour","range"];return l(t,a)},default:function(){return"date"}},themeColor:{type:String,default:function(){return"#f5a200"}},startYear:{type:[String,Number],default:function(){return"1970"}},endYear:{type:[String,Number],default:function(){return(new Date).getFullYear()+""}},defaultVal:{type:Array,default:function(){return[0,0,0,0,0,0,0]}},step:{type:[String,Number],default:1},current:{type:Boolean,default:!1},selectList:{type:Array,default:function(){return[]}},dayStep:{type:[String,Number],default:7},startHour:{type:[String,Number],default:8},endHour:{type:[String,Number],default:20},minuteStep:{type:[String,Number],default:10},afterStep:{type:[String,Number],default:30},disabledAfter:{type:Boolean,default:!1}},watch:{mode:function(){this.initData()},selectList:function(){this.initData()}},methods:{getRegionVal:function(t){var a=t[0],e=t[1],d=t[2],i=0,l=0,o=0;r.default.map(function(t,e){t.label==a&&(i=e)}),s.default[i].map(function(t,a){t.label==e&&(l=a)}),n.default[i][l].map(function(t,a){t.label==d&&(o=a)});var u=[i,l,o];return u},useCurrent:function(){var t=new Date,a=t.getFullYear().toString(),e=this.formatNum(t.getMonth()+1).toString(),r=this.formatNum(t.getDate()).toString(),s=this.formatNum(t.getHours()).toString(),n=this.formatNum(t.getMinutes()).toString(),d=this.formatNum(t.getSeconds()).toString();return this.current?[a,e,r,s,(Math.floor(n/this.step)*this.step).toString(),d]:this.defaultVal},formatNum:function(t){return t<10?"0"+t:t+""},maskTap:function(){this.showPicker=!1},show:function(){this.showPicker=!0},hide:function(){this.showPicker=!1},pickerCancel:function(){this.showPicker=!1,this.$emit("cancel",{checkArr:this.checkArr,defaultVal:this.pickVal})},pickerConfirm:function(a){switch(this.mode){case"range":var e=this.checkArr,r=new Date(e[0],e[1],e[2]),s=new Date(e[3],e[4],e[5]),n=this.pickVal;r>s?(this.checkArr=[e[3],e[4],e[5],e[0],e[1],e[2]],this.pickVal=[n[4],n[5],n[6],0,n[0],n[1],n[2]],this.$emit("confirm",{checkArr:this.checkArr,from:e[3]+"-"+e[4]+"-"+e[5],to:e[0]+"-"+e[1]+"-"+e[2],defaultVal:this.pickVal,result:this.resultStr})):this.$emit("confirm",{checkArr:this.checkArr,from:e[0]+"-"+e[1]+"-"+e[2],to:e[3]+"-"+e[4]+"-"+e[5],defaultVal:this.pickVal,result:this.resultStr});break;case"limit":var d=(new Date).getTime(),i=new Date(this.resultStr.replace(/-/g,"/")).getTime();if(d>i)return void t.showModal({title:"提示",content:"选择时间必须大于当前时间",confirmColor:this.themeColor});this.$emit("confirm",{checkArr:this.checkArr,defaultVal:this.pickVal,result:this.resultStr});break;case"region":this.$emit("confirm",{checkArr:this.checkArr,checkValue:this.checkValue,defaultVal:this.pickVal,result:this.resultStr});break;default:this.$emit("confirm",{checkArr:this.checkArr,defaultVal:this.pickVal,result:this.resultStr});break}this.showPicker=!1},bindChange:function(t){var a,e,r,i,l,o,u,c,h,f=this,g=t.detail.value,m="",p="",y="",v="",k="",b="",_=f.checkArr,w=[],S=[],A=f.mode;switch(A){case"limitHour":if(i=f.data.date[g[0]],l=f.data.areas[g[1]],f.data.hours[g[2]],i.value!=_[0].value){g[1]=0,g[2]=0;var V=d.default.limitHour.initAreas(i);f.data.areas=V;var x=d.default.limitHour.initHours(i,f.data.areas[g[1]]);f.data.hours=x}if(l.value!=_[1].value){g[2]=0;var H=d.default.limitHour.initHours(i,f.data.areas[g[1]]);f.data.hours=H}o=f.data.date[g[0]]||f.data.date[f.data.date.length-1],u=f.data.areas[g[1]]||f.data.areas[f.data.areas.length-1],c=f.data.hours[g[2]]||f.data.hours[f.data.hours.length-1],f.checkArr=[o,u,c],f.resultStr="".concat(o.value+" "+u.label+" "+c.label+"时");break;case"limit":if(i=f.data.date[g[0]],l=f.data.hours[g[1]],i.value!=_[0].value){var D=d.default.limit.initHours(f.startHour,f.endHour,f.minuteStep,f.afterStep,i.value),M=d.default.limit.initMinutes(f.startHour,f.endHour,f.minuteStep,f.afterStep,i.value,l.value);f.data.hours=D,f.data.minutes=M}if(l.value!=_[1].value){var C=d.default.limit.initMinutes(f.startHour,f.endHour,f.minuteStep,f.afterStep,i.value,l.value);f.data.minutes=C}o=f.data.date[g[0]]||f.data.date[f.data.date.length-1],c=f.data.hours[g[1]]||f.data.hours[f.data.hours.length-1],h=f.data.minutes[g[2]]||f.data.minutes[f.data.minutes.length-1],f.checkArr=[o,c,h],f.resultStr="".concat(o.value+" "+c.value+":"+h.value+":00");break;case"range":var T=f.data.fyears[g[0]]||f.data.fyears[f.data.fyears.length-1],N=f.data.fmonths[g[1]]||f.data.fmonths[f.data.fmonths.length-1],P=f.data.fdays[g[2]]||f.data.fdays[f.data.fdays.length-1],$=f.data.tyears[g[4]]||f.data.tyears[f.data.tyears.length-1],j=f.data.tmonths[g[5]]||f.data.tmonths[f.data.tmonths.length-1],Y=f.data.tdays[g[6]]||f.data.tdays[f.data.tdays.length-1];T!=_[0]&&(w=d.default.range.initDays(T,N),f.data.fdays=w),N!=_[1]&&(w=d.default.range.initDays(T,N),f.data.fdays=w),$!=_[3]&&(w=d.default.range.initDays($,j),f.data.tdays=w),j!=_[4]&&(w=d.default.range.initDays($,j),f.data.tdays=w),f.checkArr=[T,N,P,$,j,Y],f.resultStr="".concat(T+"-"+N+"-"+P+"至"+$+"-"+j+"-"+Y);break;case"half":m=f.data.years[g[0]]||f.data.years[f.data.years.length-1],p=f.data.months[g[1]]||f.data.months[f.data.months.length-1],y=f.data.days[g[2]]||f.data.days[f.data.days.length-1],r=f.data.areas[g[3]]||f.data.areas[f.data.areas.length-1],m!=_[0]&&(w=d.default.date.initDays(m,p,f.disabledAfter),S=d.default.date.initMonths(m,f.disabledAfter),f.data.days=w,f.data.months=S),p!=_[1]&&(w=d.default.date.initDays(m,p,f.disabledAfter),f.data.days=w),f.checkArr=[m,p,y,r],f.resultStr="".concat(m+"-"+p+"-"+y+r.label);break;case"date":m=f.data.years[g[0]]||f.data.years[f.data.years.length-1],p=f.data.months[g[1]]||f.data.months[f.data.months.length-1],y=f.data.days[g[2]]||f.data.days[f.data.days.length-1],m!=_[0]&&(w=d.default.date.initDays(m,p,f.disabledAfter),S=d.default.date.initMonths(m,f.disabledAfter),f.data.days=w,f.data.months=S),p!=_[1]&&(w=d.default.date.initDays(m,p,f.disabledAfter),f.data.days=w),f.checkArr=[m,p,y],f.resultStr="".concat(m+"-"+p+"-"+y);break;case"yearMonth":m=f.data.years[g[0]]||f.data.years[f.data.years.length-1],p=f.data.months[g[1]]||f.data.months[f.data.months.length-1],m!=_[0]&&(S=d.default.date.initMonths(m,f.disabledAfter),f.data.months=S),f.checkArr=[m,p],f.resultStr="".concat(m+"-"+p);break;case"dateTime":m=f.data.years[g[0]]||f.data.years[f.data.years.length-1],p=f.data.months[g[1]]||f.data.months[f.data.months.length-1],y=f.data.days[g[2]]||f.data.days[f.data.days.length-1],v=f.data.hours[g[3]]||f.data.hours[f.data.hours.length-1],k=f.data.minutes[g[4]]||f.data.minutes[f.data.minutes.length-1],b=f.data.seconds[g[5]]||f.data.seconds[f.data.seconds.length-1],m!=_[0]&&(w=d.default.date.initDays(m,p),f.data.days=w),p!=_[1]&&(w=d.default.date.initDays(m,p),f.data.days=w),f.checkArr=[m,p,y,v,k,b],f.resultStr="".concat(m+"-"+p+"-"+y+" "+v+":"+k+":"+b);break;case"time":v=f.data.hours[g[0]]||f.data.hours[f.data.hours.length-1],k=f.data.minutes[g[1]]||f.data.minutes[f.data.minutes.length-1],b=f.data.seconds[g[2]]||f.data.seconds[f.data.seconds.length-1],f.checkArr=[v,k,b],f.resultStr="".concat(v+":"+k+":"+b);break;case"region":a=f.data.provinces[g[0]].label,e=f.data.citys[g[1]].label,r=f.data.areas[g[2]].label,a!=_[0]&&(f.data.citys=s.default[g[0]],f.data.areas=n.default[g[0]][0],g[1]=0,g[2]=0,e=f.data.citys[g[1]].label,r=f.data.areas[g[2]].label),e!=_[1]&&(f.data.areas=n.default[g[0]][g[1]],g[2]=0,r=f.data.areas[g[2]].label),f.checkArr=[a,e,r],f.checkValue=[f.data.provinces[g[0]].value,f.data.citys[g[1]].value,f.data.areas[g[2]].value],f.resultStr=a+e+r;break;case"selector":f.checkArr=f.data[g[0]]||f.data[f.data.length-1],f.resultStr=f.data[g[0]].label||f.data[f.data.length-1].label;break}f.$nextTick(function(){f.pickVal=g})},initData:function(){var t,a,e,i,l,o,u,c,h,f,g,m,p=this,y={},v=p.mode,k=[];switch(v){case"region":k=p.getRegionVal(p.defaultVal),y={provinces:r.default,citys:s.default[k[0]],areas:n.default[k[0]][k[1]]};break;case"selector":y=p.selectList,k=p.defaultVal;break;case"limit":y=d.default.limit.init(p.dayStep,p.startHour,p.endHour,p.minuteStep,p.afterStep),k=y.defaultVal&&p.current?y.defaultVal:p.defaultVal;break;case"limitHour":y=d.default.limitHour.init(p.dayStep),k=y.defaultVal&&p.current?y.defaultVal:p.defaultVal;break;case"range":y=d.default.range.init(p.startYear,p.endYear,p.useCurrent(),p.current),k=y.defaultVal&&p.current?y.defaultVal:p.defaultVal;break;default:y=d.default.date.init(p.startYear,p.endYear,p.mode,p.step,p.useCurrent(),p.current,p.disabledAfter),k=y.defaultVal&&p.current?y.defaultVal:p.defaultVal;break}switch(p.data=y,v){case"limitHour":f=y.date[k[0]]||y.date[y.date.length-1],g=y.areas[k[2]]||y.areas[y.areas.length-1],m=y.hours[k[1]]||y.hours[y.hours.length-1],p.checkArr=[f,g,m],p.resultStr="".concat(f.value+" "+g.label+" "+m.label+"时");break;case"limit":f=y.date[k[0]]||y.date[y.date.length-1],g=y.hours[k[1]]||y.hours[y.hours.length-1],m=y.minutes[k[2]]||y.minutes[y.minutes.length-1],p.checkArr=[f,g,m],p.resultStr="".concat(f.value+" "+g.value+":"+m.value+":00");break;case"range":var b=y.fyears[k[0]]||y.fyears[y.fyears.length-1],_=y.fmonths[k[1]]||y.fmonths[y.fmonths.length-1],w=y.fdays[k[2]]||y.fdays[y.fdays.length-1],S=y.tyears[k[4]]||y.tyears[y.tyears.length-1],A=y.tmonths[k[5]]||y.tmonths[y.tmonths.length-1],V=y.tdays[k[6]]||y.tdays[y.tdays.length-1];p.checkArr=[b,_,w,S,A,V],p.resultStr="".concat(b+"-"+_+"-"+w+"至"+S+"-"+A+"-"+V);break;case"half":t=y.years[k[0]]||y.years[y.years.length-1],a=y.months[k[1]]||y.months[y.months.length-1],e=y.days[k[2]]||y.days[y.days.length-1],h=y.areas[k[3]]||y.areas[y.areas.length-1],p.checkArr=[t,a,e,h],p.resultStr="".concat(t+"-"+a+"-"+e+" "+h.label);break;case"date":t=y.years[k[0]]||y.years[y.years.length-1],a=y.months[k[1]]||y.months[y.months.length-1],e=y.days[k[2]]||y.days[y.days.length-1],p.checkArr=[t,a,e],p.resultStr="".concat(t+"-"+a+"-"+e);break;case"yearMonth":t=y.years[k[0]]||y.years[y.years.length-1],a=y.months[k[1]]||y.months[y.months.length-1],p.checkArr=[t,a],p.resultStr="".concat(t+"-"+a);break;case"dateTime":t=y.years[k[0]]||y.years[y.years.length-1],a=y.months[k[1]]||y.months[y.months.length-1],e=y.days[k[2]]||y.days[y.days.length-1],i=y.hours[k[3]]||y.hours[y.hours.length-1],l=y.minutes[k[4]]||y.minutes[y.minutes.length-1],o=y.seconds[k[5]]||y.seconds[y.seconds.length-1],p.resultStr="".concat(t+"-"+a+"-"+e+" "+i+":"+l+":"+o),p.checkArr=[t,a,e,i,l];break;case"time":i=y.hours[k[0]]||y.hours[y.hours.length-1],l=y.minutes[k[1]]||y.minutes[y.minutes.length-1],o=y.seconds[k[2]]||y.seconds[y.seconds.length-1],p.checkArr=[i,l,o],p.resultStr="".concat(i+":"+l+":"+o);break;case"region":u=y.provinces[k[0]],c=y.citys[k[1]],h=y.areas[k[2]],p.checkArr=[u.label,c.label,h.label],p.checkValue=[u.value,c.value,h.value],p.resultStr=u.label+c.label+h.label;break;case"selector":p.checkArr=y[k[0]]||y[y.length-1],p.resultStr=y[k[0]].label||y[y.length-1].label;break}p.$nextTick(function(){p.pickVal=k})}},mounted:function(){this.initData()}};a.default=o}).call(this,e("6e42")["default"])},c9db:function(t,a,e){"use strict";e.r(a);var r=e("18e8"),s=e.n(r);for(var n in r)"default"!==n&&function(t){e.d(a,t,function(){return r[t]})}(n);a["default"]=s.a},d3c6:function(t,a,e){"use strict";e.r(a);var r=e("3a9e"),s=e("80a0");for(var n in s)"default"!==n&&function(t){e.d(a,t,function(){return s[t]})}(n);e("ac10");var d,i=e("f0c5"),l=Object(i["a"])(s["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],d);a["default"]=l.exports},e568:function(t,a,e){"use strict";(function(t){e("f9cd"),e("921b");r(e("66fd"));var a=r(e("ee30"));function r(t){return t&&t.__esModule?t:{default:t}}t(a.default)}).call(this,e("6e42")["createPage"])},eab8:function(t,a,e){"use strict";var r={"w-picker":()=>Promise.resolve().then(e.bind(null,"d3c6"))},s=function(){var t=this,a=t.$createElement;t._self._c},n=[];e.d(a,"b",function(){return s}),e.d(a,"c",function(){return n}),e.d(a,"a",function(){return r})},ee30:function(t,a,e){"use strict";e.r(a);var r=e("eab8"),s=e("c9db");for(var n in s)"default"!==n&&function(t){e.d(a,t,function(){return s[t]})}(n);e("8972");var d,i=e("f0c5"),l=Object(i["a"])(s["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],d);a["default"]=l.exports}},[["e568","common/runtime","common/vendor"]]]);