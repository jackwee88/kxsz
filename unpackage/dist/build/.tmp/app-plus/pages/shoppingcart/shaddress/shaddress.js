(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shoppingcart/shaddress/shaddress"],{"173d":function(t,a,e){"use strict";var i,s=function(){var t=this,a=t.$createElement;t._self._c},n=[];e.d(a,"b",function(){return s}),e.d(a,"c",function(){return n}),e.d(a,"a",function(){return i})},5122:function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=e("ec2b"),s={data:function(){return{cp_id:"",score:"",quantity:"",p_id:"",ct_id:"",catalogueitem:[],goods_sku_id:"",address:"",totals:"",transport_total:""}},components:{},props:{},onLoad:function(a){var e=this;i.ajax({url:"address/index",data:{page:1,page_size:10},success:function(a){if(1==a.status){e.catalogueitem=a.data.list;var i=a.data.list;t("log",i," at pages\\shoppingcart\\shaddress\\shaddress.vue:108");for(var s=0;s<i.length;s++)if(1==i[s].default){var n=getCurrentPages(),d=n[n.length-2];d.address=i[s]}}}}),a&&(this.p_id=a.p_id,this.quantity=a.quantity,this.cp_id=a.cp_id,this.score=a.score,this.ct_id=a.ct_id,this.goods_sku_id=a.goods_sku_id)},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{add:function(){wx.navigateTo({url:"../newaddress/newaddress?quantity="+this.quantity+" &ct_id="+this.ct_id+"&p_id="+this.p_id+"&score="+this.score+"&cp_id="+this.cp_id+"&goods_sku_id="+this.goods_sku_id})},del:function(t){var a=this;this.p_id,this.quantity,this.score,this.ct_id,this.cp_id;wx.showModal({title:"提示",content:"是否确认删除该地址",success:function(e){if(e.confirm){var s=t.currentTarget.dataset.defaults;i.ajax({url:"address/del",data:{ar_id:t.currentTarget.dataset.id},success:function(e){if(1==e.status){var i=a.catalogueitem;if(i.splice(t.currentTarget.dataset.index,1),a.catalogueitem=i,1==s){var n=getCurrentPages(),d=n[n.length-2];d.address=""}}wx.showToast({title:e.msg,duration:2e3})}})}}})},edit:function(t){var a=t.currentTarget.dataset.ar_id,e=t.currentTarget.dataset.index;wx.navigateTo({url:"../newaddress/newaddress?list="+JSON.stringify(t.currentTarget.dataset.list+"&ar_id="+a)+"&index="+e+"&quantity="+this.quantity+" &ct_id="+this.ct_id+"&p_id="+this.p_id+"&score="+this.score+"&cp_id="+this.cp_id+"&goods_sku_id="+this.goods_sku_id})},changeData:function(){this.catalogueitem=[],this.onLoad()},defaultF:function(t){var a=this,e={ar_id:t.currentTarget.dataset.ar_id,p_id:this.p_id,quantity:this.quantity,score:this.score,ct_id:this.ct_id,cp_id:this.cp_id,goods_sku_id:this.goods_sku_id},s=t.currentTarget.dataset.index;i.ajax({url:"address/select",data:{ar_id:this.catalogueitem[s].ar_id},success:function(t){if(1==t.status){var n=a.catalogueitem;if(!n[s].default){var d=!0,r=!1,o=void 0;try{for(var u,c=n[Symbol.iterator]();!(d=(u=c.next()).done);d=!0){var l=u.value;if(l.default){l.default=!1;break}}}catch(_){r=!0,o=_}finally{try{d||null==c.return||c.return()}finally{if(r)throw o}}n[s].default=!0,a.catalogueitem=n}if(1==n[s].default){var f=n[s];i.ajax({url:"goods/OrderMoney",data:e,success:function(t){if(0==t.data.send_status)return wx.showToast({title:"当前地址不在配送范围哦 ~",icon:"none"}),!1;var a=getCurrentPages(),e=a[a.length-2];e.address=f,e.totals=t.data.amount.toFixed(2),e.transport_total=t.data.transport,wx.navigateBack({delta:1})}})}}}})},useF:function(t){var a={ar_id:t.currentTarget.dataset.list.ar_id,p_id:this.p_id,quantity:this.quantity,score:this.score,ct_id:this.ct_id,cp_id:this.cp_id,goods_sku_id:this.goods_sku_id};i.ajax({url:"goods/OrderMoney",data:a,success:function(a){if(0==a.data.send_status)return wx.showToast({title:"当前地址不在配送范围哦 ~",icon:"none"}),!1;var e=getCurrentPages(),i=e[e.length-2];i.changeData(t.currentTarget.dataset.list),i.totals=a.data.amount.toFixed(2),i.transport_total=a.data.transport,wx.navigateBack({delta:1})}})},toTop:function(t){var a=this;a.pageScrollTo({scrollTop:0,duration:0})}}};a.default=s}).call(this,e("0de9")["default"])},"5ab5":function(t,a,e){"use strict";e.r(a);var i=e("5122"),s=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(a,t,function(){return i[t]})}(n);a["default"]=s.a},c287:function(t,a,e){},c5d2:function(t,a,e){"use strict";e.r(a);var i=e("173d"),s=e("5ab5");for(var n in s)"default"!==n&&function(t){e.d(a,t,function(){return s[t]})}(n);e("f0e4");var d,r=e("f0c5"),o=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],d);a["default"]=o.exports},e86c:function(t,a,e){"use strict";(function(t){e("f9cd"),e("921b");i(e("66fd"));var a=i(e("c5d2"));function i(t){return t&&t.__esModule?t:{default:t}}t(a.default)}).call(this,e("6e42")["createPage"])},f0e4:function(t,a,e){"use strict";var i=e("c287"),s=e.n(i);s.a}},[["e86c","common/runtime","common/vendor"]]]);