(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shoppingcart/shaddress/shaddress"],{5122:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=i("ec2b"),s={data:function(){return{cp_id:"",score:"",quantity:"",p_id:"",ct_id:"",catalogueitem:[],goods_sku_id:"",address:"",totals:"",transport_total:""}},components:{},props:{},onLoad:function(t){var a=this;e.ajax({url:"address/index",data:{page:1,page_size:10},success:function(t){1==t.status&&(a.catalogueitem=t.data.list)}}),t&&(this.p_id=t.p_id,this.quantity=t.quantity,this.cp_id=t.cp_id,this.score=t.score,this.ct_id=t.ct_id,this.goods_sku_id=t.goods_sku_id)},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{add:function(){wx.navigateTo({url:"../newaddress/newaddress?quantity="+this.quantity+" &ct_id="+this.ct_id+"&p_id="+this.p_id+"&score="+this.score+"&cp_id="+this.cp_id+"&goods_sku_id="+this.goods_sku_id})},del:function(t){var a=this;this.p_id,this.quantity,this.score,this.ct_id,this.cp_id;wx.showModal({title:"提示",content:"是否确认删除该地址",success:function(i){if(i.confirm){var s=t.currentTarget.dataset.defaults;e.ajax({url:"address/del",data:{ar_id:t.currentTarget.dataset.id},success:function(i){if(1==i.status){var e=a.catalogueitem;if(e.splice(t.currentTarget.dataset.index,1),a.catalogueitem=e,1==s){var n=getCurrentPages(),d=n[n.length-2];d.address=""}}wx.showToast({title:i.msg,duration:2e3})}})}}})},edit:function(t){var a=t.currentTarget.dataset.ar_id,i=t.currentTarget.dataset.index;wx.navigateTo({url:"../newaddress/newaddress?list="+JSON.stringify(t.currentTarget.dataset.list+"&ar_id="+a)+"&index="+i+"&quantity="+this.quantity+" &ct_id="+this.ct_id+"&p_id="+this.p_id+"&score="+this.score+"&cp_id="+this.cp_id+"&goods_sku_id="+this.goods_sku_id})},changeData:function(){this.catalogueitem=[],this.onLoad()},defaultF:function(t){var a=this,i={ar_id:t.currentTarget.dataset.ar_id,p_id:this.p_id,quantity:this.quantity,score:this.score,ct_id:this.ct_id,cp_id:this.cp_id,goods_sku_id:this.goods_sku_id},s=t.currentTarget.dataset.index;e.ajax({url:"address/select",data:{ar_id:this.catalogueitem[s].ar_id},success:function(t){if(1==t.status){var n=a.catalogueitem;if(!n[s].default){var d=!0,r=!1,o=void 0;try{for(var c,u=n[Symbol.iterator]();!(d=(c=u.next()).done);d=!0){var l=c.value;if(l.default){l.default=!1;break}}}catch(_){r=!0,o=_}finally{try{d||null==u.return||u.return()}finally{if(r)throw o}}n[s].default=!0,a.catalogueitem=n}if(1==n[s].default){var f=n[s];e.ajax({url:"goods/OrderMoney",data:i,success:function(t){if(0==t.data.send_status)return wx.showToast({title:"当前地址不在配送范围哦 ~",icon:"none"}),!1;var a=getCurrentPages(),i=a[a.length-2];i.address=f,i.totals=t.data.amount.toFixed(2),i.transport_total=t.data.transport,wx.navigateBack({delta:1})}})}}}})},useF:function(t){var a={ar_id:t.currentTarget.dataset.list.ar_id,p_id:this.p_id,quantity:this.quantity,score:this.score,ct_id:this.ct_id,cp_id:this.cp_id,goods_sku_id:this.goods_sku_id};e.ajax({url:"goods/OrderMoney",data:a,success:function(a){if(0==a.data.send_status)return wx.showToast({title:"当前地址不在配送范围哦 ~",icon:"none"}),!1;var i=getCurrentPages(),e=i[i.length-2];e.changeData(t.currentTarget.dataset.list),e.totals=a.data.amount.toFixed(2),e.transport_total=a.data.transport,wx.navigateBack({delta:1})}})},toTop:function(t){var a=this;a.pageScrollTo({scrollTop:0,duration:0})}}};a.default=s},"5ab5":function(t,a,i){"use strict";i.r(a);var e=i("5122"),s=i.n(e);for(var n in e)"default"!==n&&function(t){i.d(a,t,function(){return e[t]})}(n);a["default"]=s.a},"65c6":function(t,a,i){"use strict";var e,s=function(){var t=this,a=t.$createElement;t._self._c},n=[];i.d(a,"b",function(){return s}),i.d(a,"c",function(){return n}),i.d(a,"a",function(){return e})},c287:function(t,a,i){},c5d2:function(t,a,i){"use strict";i.r(a);var e=i("65c6"),s=i("5ab5");for(var n in s)"default"!==n&&function(t){i.d(a,t,function(){return s[t]})}(n);i("f0e4");var d,r=i("f0c5"),o=Object(r["a"])(s["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],d);a["default"]=o.exports},e86c:function(t,a,i){"use strict";(function(t){i("f9cd"),i("921b");e(i("66fd"));var a=e(i("c5d2"));function e(t){return t&&t.__esModule?t:{default:t}}t(a.default)}).call(this,i("6e42")["createPage"])},f0e4:function(t,a,i){"use strict";var e=i("c287"),s=i.n(e);s.a}},[["e86c","common/runtime","common/vendor"]]]);