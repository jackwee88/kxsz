(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/chat/chat"],{"3c55":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o(a("9e92")),c=o(a("1d78"));function o(t){return t&&t.__esModule?t:{default:t}}var u=n.default.RongIMClient,r="pwe86ga5p4d36",i={data:function(){return{userMsg:{name:"空白",userId:"924756420",portraitUri:"https://kxsx-front-pic.oss-cn-beijing.aliyuncs.com/pic/20190815/156587576839.png"},linkList:[]}},onLoad:function(){var e=this,a=(new Date,"ZU5g/RRMEU2RUhfRT95FS0roF+1VR/NPRNBHO7cp39u44UVUi937DYiUHhlkx7cZdusSShxRe04zVZ0awUjVo2Y1rIY6tpSV");u.init(r,null,{protobuf:c.default}),u.setConnectionStatusListener({onChanged:function(e){switch(e){case n.default.ConnectionStatus.CONNECTED:t("log","链接成功"," at pages\\chat\\chat.vue:60");break;case n.default.ConnectionStatus.CONNECTING:t("log","正在链接"," at pages\\chat\\chat.vue:63");break;case n.default.ConnectionStatus.DISCONNECTED:t("log","断开连接"," at pages\\chat\\chat.vue:66");break;case n.default.ConnectionStatus.KICKED_OFFLINE_BY_OTHER_CLIENT:t("log","其他设备登录, 本端被踢"," at pages\\chat\\chat.vue:69");break;case n.default.ConnectionStatus.DOMAIN_INCORRECT:t("log","域名不正确, 请至开发者后台查看安全域名配置"," at pages\\chat\\chat.vue:72");break;case n.default.ConnectionStatus.NETWORK_UNAVAILABLE:t("log","网络不可用, 此时可调用 reconnect 进行重连"," at pages\\chat\\chat.vue:75");break;default:t("log","链接状态为",e," at pages\\chat\\chat.vue:78");break}}}),u.setOnReceiveMessageListener({onReceived:function(a){var c=[n.default.ConversationType.PRIVATE],o=150;u.getInstance().getConversationList({onSuccess:function(t){for(var a=0;a<t.length;a++)t[a].sentTime=e.formatTime(t[a].sentTime);e.linkList=t},onError:function(e){t("log","获取会话列表失败",e," at pages\\chat\\chat.vue:98")}},c,o)}}),u.connect(a,{onSuccess:function(e){t("log","连接成功, 用户 id 为",e," at pages\\chat\\chat.vue:106")},onTokenIncorrect:function(){t("log","连接失败, 失败原因: token 无效"," at pages\\chat\\chat.vue:110")},onError:function(e){var a="";switch(e){case n.default.ErrorCode.TIMEOUT:a="链接超时";break;case n.default.ConnectionState.UNACCEPTABLE_PAROTOCOL_VERSION:a="不可接受的协议版本";break;case n.default.ConnectionState.IDENTIFIER_REJECTED:a="appkey 不正确";break;case n.default.ConnectionState.SERVER_UNAVAILABLE:a="服务器不可用";break;default:a=e;break}t("log","连接失败, 失败原因: ",a," at pages\\chat\\chat.vue:131")}});var o=[n.default.ConversationType.PRIVATE],i=150;u.getInstance().getConversationList({onSuccess:function(a){t("log",a," at pages\\chat\\chat.vue:139");for(var n=0;n<a.length;n++)a[n].sentTime=e.formatTime(a[n].sentTime);e.linkList=a},onError:function(e){t("log","获取会话列表失败",e," at pages\\chat\\chat.vue:147")}},o,i)},methods:{formatTime:function(t){var e=new Date(1*t),a=(e.getFullYear(),(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-"),n=e.getDate(),c=e.getHours()+":",o=e.getMinutes();return(new Date).getTime()-t>864e5?a+n:c+o}},mounted:function(){},beforeDestroy:function(){}};e.default=i}).call(this,a("0de9")["default"])},"3cba":function(t,e,a){"use strict";a.r(e);var n=a("3c55"),c=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);e["default"]=c.a},"4a56":function(t,e,a){"use strict";(function(t){a("907b"),a("921b");n(a("66fd"));var e=n(a("a6ac"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},5465:function(t,e,a){},a3c7:function(t,e,a){"use strict";var n=a("5465"),c=a.n(n);c.a},a6ac:function(t,e,a){"use strict";a.r(e);var n=a("f39f"),c=a("3cba");for(var o in c)"default"!==o&&function(t){a.d(e,t,function(){return c[t]})}(o);a("a3c7");var u,r=a("f0c5"),i=Object(r["a"])(c["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],u);e["default"]=i.exports},f39f:function(t,e,a){"use strict";var n,c=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"b",function(){return c}),a.d(e,"c",function(){return o}),a.d(e,"a",function(){return n})}},[["4a56","common/runtime","common/vendor"]]]);