(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/brain/choice/choice"],{"32a8":function(t,i,e){},"38fc":function(t,i,e){"use strict";e.r(i);var s=e("a270"),a=e.n(s);for(var n in s)"default"!==n&&function(t){e.d(i,t,function(){return s[t]})}(n);i["default"]=a.a},4291:function(t,i,e){"use strict";var s=e("32a8"),a=e.n(s);a.a},"6e48":function(t,i,e){"use strict";e.r(i);var s=e("b234"),a=e("38fc");for(var n in a)"default"!==n&&function(t){e.d(i,t,function(){return a[t]})}(n);e("4291");var u,c=e("f0c5"),o=Object(c["a"])(a["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],u);i["default"]=o.exports},a270:function(t,i,e){"use strict";(function(t,s){function a(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=e("ec2b"),u={data:function(){var t;return t={innerAudioContext:null,is_last:!1,is_order:!1,sequence:!1,is_ok:!1,rightAns:"",succImg:"",failImg:"",limitImg:"",backGroundImg:"https://kxsx.kaifadanao.cn/assets/img/gamebackground.png",lastImg:""},a(t,"lastImg",""),a(t,"toIndex",""),a(t,"topic",""),a(t,"answerList",["我","本","辅","我","我","本","辅","我"]),a(t,"ans",""),a(t,"answer",""),a(t,"id",""),a(t,"currentId","-1"),a(t,"is_wrong",!1),a(t,"page",1),a(t,"pagesize",12),a(t,"levelList",[]),a(t,"counts",0),a(t,"is_succ",!1),a(t,"is_limit",!1),a(t,"audio",""),a(t,"action",{method:"pause"}),a(t,"is_p",!0),a(t,"pageId",0),a(t,"ids",""),a(t,"startX",0),a(t,"slider",!1),a(t,"animationData",{}),a(t,"cardInfoList",[{name:1},{name:2},{name:3},{name:4}]),a(t,"c",""),a(t,"backgroundImg","https://kxsx.kaifadanao.cn/assets/img/gamebackground.png"),a(t,"next_id",""),a(t,"isLevel",!1),t},components:{},props:{},onLoad:function(t){this.getAudio(),this.backGroundImgFun(),this.succImgFun(),this.failImgFun(),this.limitImgFun(),this.lastImgFun(),t.is_share&&this.setData({toIndex:1});wx.getSystemInfo({success:function(t){t.statusBarHeight;t.platform.toLowerCase()}}),this.topicList(),this.getLevel()},onHide:function(){this.innerAudioContext.pause()},onBackPress:function(){this.innerAudioContext.destroy(),this.innerAudioContext=null},methods:{backGroundImgFun:function(){var t=this;n.ajax({url:"index/getSystem",data:{type:9},success:function(i){t.backgroundImg=i.data}})},toGetLevel:function(t){var i=t.currentTarget.dataset.index;this.page=t.currentTarget.dataset.page,this.pageId=i,this.getLevel()},topicList:function(){var i=this,e=this;t.getStorageSync("game-cid")&&(this.id=t.getStorageSync("game-cid"));var s={type:1,id:e.id};n.ajax({url:"game/choiceList",data:s,success:function(s){if(1==s.status)i.topic=s.data.title,i.id=s.data.id,i.ids=s.data.id,i.answerList=s.data.array,i.next_id=s.data.next_id,i.rightAns=s.data.right,t.setStorageSync("game-cid",s.data.id);else{if(2==s.status){if("今日答题数量已达上限"==s.msg)return void setTimeout(function(){e.is_limit=!0},500);t.showToast({title:s.msg,icon:"none",mask:!0});var a=getCurrentPages();a[a.length-2];return void setTimeout(function(){t.navigateBack({delta:1})},1e3)}3==s.status&&(e.sequence=!0,e.id=e.ids,setTimeout(function(){e.sequence=!1},2e3),t.setStorageSync("game-cid",s.data.id))}}})},answerFun:function(){var t=this,i={type:1,id:this.ids,answer:t.answer};n.ajax({url:"game/answer",data:i,success:function(i){1==i.status?setTimeout(function(){t.is_succ=!0},500):"回答错误"==i.msg?setTimeout(function(){t.is_wrong=!0},500):(i.msg="今日答错数量已达上限",t.is_limit=!0)}})},selected:function(t){var i=t.currentTarget.dataset.answer,e=t.currentTarget.dataset.index;i==this.rightAns?this.is_ok=!0:this.is_ok=!1,this.answer=i,this.currentId=e,this.ans=i,this.answerFun()},reset:function(t){t.currentTarget.dataset.id;this.is_wrong=!1,this.currentId="-1",this.ans="",this.id=this.id,this.is_succ=!1,this.topicList()},exit:function(){t.navigateBack({delta:1})},getLevel:function(){var t=this,i={type:1,page:this.page,page_size:this.pagesize};n.ajax({url:"game/guanqia",data:i,success:function(i){var e=[];if(1==i.status){t.levelList=i.data.list;for(var s=0;s<i.data.count;s++)e.push(s+1);t.counts=e,t.c=i.data.count}}})},closeLevel:function(){this.isLevel=!1},showLevel:function(){this.isLevel=!0,this.getLevel()},toDetail:function(i){this.isLevel=!1,this.ans="",this.currentId="-1",t.setStorageSync("game-cid",i),this.topicList()},next:function(){if(0==this.next_id)return this.is_succ=!1,this.is_last=!0,!1;this.id=this.next_id,t.setStorageSync("game-cid",this.next_id),this.topicList(),this.is_succ=!1,this.ans="",this.currentId="-1"},getAudio:function(){var t=this;n.ajax({url:"index/getSystem",data:{type:8},success:function(i){s("log",i," at pages\\brain\\choice\\choice.vue:500"),t.audio=i.data,t.initAudio()}})},initAudio:function(){if(null==this.innerAudioContext){var i=t.createInnerAudioContext();i.autoplay=!0,i.loop=!0,i.src=this.audio,i.onCanplay(function(){s("log","可以播放"," at pages\\brain\\choice\\choice.vue:519")}),this.innerAudioContext=i}else this.is_p&&this.innerAudioContext.play()},playorpause:function(t){var i=this;this.innerAudioContext.paused?(i.is_p=!0,this.innerAudioContext.play()):(i.is_p=!1,this.innerAudioContext.pause())},goBack:function(){var i={method:"pause"};this.action=i,this.is_p=!1,1==this.toIndex?t.switchTab({url:"/pages/index/index"}):t.navigateBack({delta:1})},touchstart:function(t){this.startX=t.changedTouches[0].clientX},touchend:function(t){var i=this.startX,e=t.changedTouches[0].clientX;if(i-e>30){if(this.slider=!0,this.page==this.c)return void(this.slider=!1);this.page=this.page+1,this.pageId=this.pageId+1,this.getLevel()}if(e-i>30){if(this.slider=!0,1==this.page)return void(this.slider=!1);this.page=this.page-1,this.pageId=this.pageId-1,this.getLevel()}},nextPage:function(){this.page!=this.c&&(this.page=this.page+1,this.pageId=this.pageId+1,this.getLevel())},prevPage:function(){1!=this.page&&(this.page=this.page-1,this.pageId=this.pageId-1,this.getLevel())},failImgFun:function(){var t=this;n.ajax({url:"index/getSystem",data:{type:11},success:function(i){t.failImg=i.data}})},succImgFun:function(){var t=this;n.ajax({url:"index/getSystem",data:{type:10},success:function(i){t.succImg=i.data}})},limitImgFun:function(){var t=this;n.ajax({url:"index/getSystem",data:{type:12},success:function(i){t.limitImg=i.data}})},lastImgFun:function(){var t=this;n.ajax({url:"index/getSystem",data:{type:13},success:function(i){t.lastImg=i.data}})}}};i.default=u}).call(this,e("6e42")["default"],e("0de9")["default"])},b234:function(t,i,e){"use strict";var s,a=function(){var t=this,i=t.$createElement;t._self._c},n=[];e.d(i,"b",function(){return a}),e.d(i,"c",function(){return n}),e.d(i,"a",function(){return s})},e00b:function(t,i,e){"use strict";(function(t){e("f9cd"),e("921b");s(e("66fd"));var i=s(e("6e48"));function s(t){return t&&t.__esModule?t:{default:t}}t(i.default)}).call(this,e("6e42")["createPage"])}},[["e00b","common/runtime","common/vendor"]]]);