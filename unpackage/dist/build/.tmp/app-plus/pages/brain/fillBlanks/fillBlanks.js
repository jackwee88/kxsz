(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/brain/fillBlanks/fillBlanks"],{"33c9":function(t,e,a){"use strict";(function(t){a("f9cd"),a("921b");i(a("66fd"));var e=i(a("4f82"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},"4f82":function(t,e,a){"use strict";a.r(e);var i=a("a8c0"),s=a("7b9b");for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);a("7fc9");var o,c=a("f0c5"),u=Object(c["a"])(s["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=u.exports},"7b9b":function(t,e,a){"use strict";a.r(e);var i=a("aadf"),s=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=s.a},"7fc9":function(t,e,a){"use strict";var i=a("df3f"),s=a.n(i);s.a},a8c0:function(t,e,a){"use strict";var i,s=function(){var t=this,e=t.$createElement;t._self._c},n=[];a.d(e,"b",function(){return s}),a.d(e,"c",function(){return n}),a.d(e,"a",function(){return i})},aadf:function(t,e,a){"use strict";(function(t){function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=a("ec2b"),n={data:function(){var t;return t={is_last:!1,lastImg:"",sequence:!1,succImg:"",failImg:"",limitImg:"",backGroundImg:"",toIndex:"",c:"",levelList:[],counts:0,next_id:0,topic:"",answer:"",id:"",ids:"",is_wrong:!1,is_succ:!1,is_limit:!1},i(t,"levelList",[]),i(t,"counts",0),i(t,"action",{method:"pause"}),i(t,"audio",""),i(t,"is_p",!1),i(t,"page",1),i(t,"pagesize",12),i(t,"pageId",0),i(t,"startX",0),i(t,"slider",!1),i(t,"animationData",{}),i(t,"cardInfoList",[{name:1},{name:2},{name:3},{name:4}]),i(t,"answerList",[]),i(t,"backgroundImg",""),i(t,"isLevel",!1),i(t,"ans",""),i(t,"currentId",""),t},components:{},props:{},onLoad:function(t){this.getAudio(),this.playorpause(),this.backGroundImgFun(),this.succImgFun(),this.failImgFun(),this.limitImgFun(),this.lastImgFun(),t.is_share&&this.setData({toIndex:1});wx.getSystemInfo({success:function(t){t.statusBarHeight;t.platform.toLowerCase()}}),this.topicList(),this.getLevel()},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){return{title:"发现一个很好玩的文字游戏，快来跟我一起玩吧！",path:"/pages/brain/fillBlanks/fillBlanks?is_share=1",success:function(t){}}},methods:{backGroundImgFun:function(){var t=this;s.ajaxs("index/getSystem",{type:9},function(e){t.setData({backgroundImg:e.data})})},setData:function(t){for(var e in t){var a=t[e];this[e]=a}},toGetLevel:function(t){var e=t.currentTarget.dataset.index;this.setData({page:t.currentTarget.dataset.page,pageId:e}),this.getLevel()},getDataBindTap:function(t){t.detail.value},topicList:function(){var e=this;wx.getStorageSync("game-fid")&&this.setData({id:wx.getStorageSync("game-fid")});var a={type:2,id:e.id};s.ajaxs("game/choiceList",a,function(a){if(t("log",a," at pages\\brain\\fillBlanks\\fillBlanks.vue:294"),2!=a.status){if(3==a.status)return e.setData({sequence:!0,id:e.ids}),wx.setStorageSync("game-fid",e.id),void setTimeout(function(){e.setData({sequence:!1})},2e3);1==a.status&&(e.setData({topic:a.data.title,id:a.data.id,ids:a.data.id,next_id:a.data.next_id,answerList:a.data.array}),wx.setStorageSync("game-fid",a.data.id))}else{if("今日答题数量已达上限"==a.msg)return void setTimeout(function(){e.setData({is_limit:!0})},500);wx.showToast({title:a.msg,icon:"none",mask:!0});var i=getCurrentPages();i[i.length-2];setTimeout(function(){wx.navigateBack({delta:1})},1e3)}})},answerFun:function(e){var a=e.detail.value;t("log",a," at pages\\brain\\fillBlanks\\fillBlanks.vue:345"),this.setData({answer:a});var i=this;if(!(a.length<=0)){var n={type:2,id:i.id,answer:i.answer};setTimeout(function(){s.ajaxs("game/answer",n,function(t){1==t.status?i.setData({is_succ:!0,answer:"",is_wrong:!1}):"今日答题数量已达上限"==t.msg?setTimeout(function(){i.setData({is_limit:!0,answer:""})},500):"回答错误"==t.msg&&setTimeout(function(){i.setData({is_wrong:!0,answer:""})},500)})},1e3)}},ansFun:function(t){this.setData({answer:t.detail.value})},reset:function(t){t.currentTarget.dataset.id;this.topicList(),this.setData({is_wrong:!1,is_succ:!1,answer:""})},exit:function(){wx.navigateBack({delta:1})},click:function(t){},getLevel:function(){var t=this,e={type:2,page:this.page,page_size:this.pagesize};s.ajaxs("game/guanqia",e,function(e){var a=[];if(1==e.status){t.setData({levelList:e.data.list});for(var i=0;i<e.data.count;i++)a.push(i+1);t.setData({counts:a,c:e.data.count})}})},closeLevel:function(){this.setData({isLevel:!1})},showLevel:function(){this.setData({isLevel:!0}),this.getLevel()},selected:function(){},toDetail:function(t){this.setData({id:t.currentTarget.dataset.id,isLevel:!1,ans:"",currentId:"-1"}),wx.setStorageSync("game-fid",t.currentTarget.dataset.id),this.topicList()},next:function(){if(0==this.next_id)return this.setData({is_succ:!1,is_last:!0}),!1;this.setData({id:this.next_id}),wx.setStorageSync("game-fid",this.next_id),this.topicList(),this.setData({is_succ:!1,ans:"",answer:"",currentId:"-1"})},getAudio:function(){var t=this;wx.request({url:getApp().globalData.requestUrl+"index/getSystem",method:"post",data:{type:8},header:{"content-type":"application/json",token:wx.getStorageSync("token")},success:function(e){wx.hideLoading(),t.setData({audio:e.data.data})},fail:function(){wx.hideLoading(),wx.showModal({title:"网络错误",content:"网络出错，请刷新重试",showCancel:!1,mask:!0})}})},playorpause:function(t){var e=this,a={method:"play"},i={method:"pause"};"pause"==e.action.method?e.setData({action:a,is_p:!0}):e.setData({action:i,is_p:!1})},goBack:function(){var t=this,e={method:"pause"};t.setData({action:e,is_p:!1}),1==this.toIndex?wx.switchTab({url:"/pages/index/index"}):wx.navigateBack({delta:1})},touchstart:function(t){this.setData({startX:t.changedTouches[0].clientX})},touchend:function(t){var e=this.startX,a=t.changedTouches[0].clientX;if(e-a>30){if(this.setData({slider:!0}),this.page==this.c)return void this.setData({slider:!1});this.setData({page:this.page+1,pageId:this.pageId+1}),this.getLevel()}if(a-e>30){if(this.setData({slider:!0}),1==this.page)return void this.setData({slider:!1});this.setData({page:this.page-1,pageId:this.pageId-1}),this.getLevel()}},nextPage:function(){this.page!=this.c&&(this.setData({page:this.page+1,pageId:this.pageId+1}),this.getLevel())},prevPage:function(){1!=this.page&&(this.setData({page:this.page-1,pageId:this.pageId-1}),this.getLevel())},failImgFun:function(){var t=this;s.ajaxs("index/getSystem",{type:11},function(e){t.setData({failImg:e.data})})},succImgFun:function(){var t=this;s.ajaxs("index/getSystem",{type:10},function(e){t.setData({succImg:e.data})})},limitImgFun:function(){var t=this;s.ajaxs("index/getSystem",{type:12},function(e){t.setData({limitImg:e.data})})},lastImgFun:function(){var t=this;s.ajaxs("index/getSystem",{type:13},function(e){t.setData({lastImg:e.data})})}}};e.default=n}).call(this,a("0de9")["default"])},df3f:function(t,e,a){}},[["33c9","common/runtime","common/vendor"]]]);