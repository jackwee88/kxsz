(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/jctbxzjx/jctbxzjx"],{1320:function(t,e,a){"use strict";var i=a("f104"),o=a.n(i);o.a},"449d":function(t,e,a){"use strict";var i,o=function(){var t=this,e=t.$createElement;t._self._c},n=[];a.d(e,"b",function(){return o}),a.d(e,"c",function(){return n}),a.d(e,"a",function(){return i})},"82ac":function(t,e,a){"use strict";a.r(e);var i=a("449d"),o=a("853f");for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);a("1320");var c,s=a("f0c5"),d=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],c);e["default"]=d.exports},"848a":function(t,e,a){"use strict";var i;function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a("ec2b"),c=(i={data:function(){var t;return t={pages:1,counts:1,vp_ids:"",titles:"",code:"",is_code:!1,currentId:0,collectimg2:"/static/img/freeTeaching/shoucangyi.png",collectimg:"/static/img/freeTeaching/shoucangwei.png",tabcontitem:[],content:"",flag:!0,catalogue:[],page:1,page_size:10,count:1,cl_id:0,p_id:"",notice:"",md_id:7,showModal:!1,banner:[]},o(t,"currentId",0),o(t,"section",[]),o(t,"pagetitle","一年级"),o(t,"tabcontitems",[]),o(t,"popupitem",[]),o(t,"collecttext2","已收藏"),o(t,"collecttext","收藏"),o(t,"flags",!0),o(t,"count",1),o(t,"page",1),o(t,"page_size",10),o(t,"modelType",1),o(t,"currentIds",0),o(t,"type",""),o(t,"gd_id",""),o(t,"producturl",[]),o(t,"keyword",""),t},components:{},props:{},onLoad:function(t){wx.getStorageSync("modelType");var e=this;t.content?wx.setNavigationBarTitle({title:t.content}):wx.setNavigationBarTitle({title:"教材同步学习教学"}),t.type?e.setData({type:t.type,md_id:t.md_id}):e.setData({type:2,md_id:7}),n.ajaxs("videopacks/videopacksList",{md_id:this.md_id},function(t){e.setData({catalogue:t.data.catalog,currentId:t.data.catalog[0].cl_id}),e.getData()})},onReady:function(){},onShow:function(){var t=this;if(t.setData({currentIds:0}),wx.getStorageSync("modelType")?t.setData({modelType:wx.getStorageSync("modelType")}):t.setData({modelType:1}),1==wx.getStorageSync("modelType")){t=this;wx.setNavigationBarTitle({title:"在线视频"})}2==t.modelType&&(wx.setNavigationBarTitle({title:"商品分类",pages:1}),t.setData({pages:1}),n.ajaxs("goods/cate",{},function(e){t.setData({section:e.data.list}),e.data.list&&(t.setData({gd_id:e.data.list[0].gd_id,pages:1,tabcontitems:[],count:1}),t.getDataGoods())}))},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){this.getData()},onShareAppMessage:function(){}},o(i,"onReachBottom",function(){1==wx.getStorageSync("modelType")?this.getData():this.getDataGoods()}),o(i,"methods",{setData:function(t){for(var e in t){var a=t[e];this[e]=a}},handleTap:function(t){var e=this;t&&(this.setData({currentId:t,page:1,page_size:10,tabcontitem:[],count:1}),e.getData())},collect:function(t){var e=[this,t.currentTarget.dataset],a=e[0],i=e[1];a.apiLoad({vp_id:i.vp_id},a,i.index)},apiLoad:function(t,e,a){n.ajaxs("videopacks/videoCollect",t,function(t){if(1==t.status){var i=e.tabcontitem;i[a].if_collect=!i[a].if_collect,e.setData({tabcontitem:i})}else wx.hideLoading(),wx.showModal({title:"错误提示",content:"收藏失败",showCancel:!1})})},show:function(t){var e=this,a=t.currentTarget.dataset.vp_id,i=t.currentTarget.dataset.title,o={vp_id:a};this.setData({vp_ids:a,titles:i}),n.ajaxs("videopacks/videopacksLimit",o,function(t){2==t.status?(e.setData({content:t.data.content,cl_id:t.data.cl_id,p_id:t.data.p_id,notice:t.data.notice}),e.setData({flag:!1})):wx.navigateTo({url:"/pages/hncjiaoxue_intro/hncjiaoxue_intro?vp_id="+a+"&title="+i})})},buy:function(t){if(0!=this.p_id){var e=this.p_id;wx.navigateTo({url:"/pages/onlinestore/productDetail/productDetail?p_id="+e})}else wx.showToast({title:this.notice,icon:"none"})},hide:function(){this.setData({flag:!0})},getData:function(){var t=this,e={cl_id:t.currentId,page:t.page,page_size:t.page_size,keyword:t.keyword},a=t.tabcontitem;t.count<t.page?wx.showToast({title:"暂无更多信息",icon:"none"}):n.ajaxs("videopacks/videoList",e,function(e){var i=[];""!=e.data.list&&(i=a.concat(e.data.list)),t.setData({page:t.page+1,count:e.data.count>1?e.data.count:1,tabcontitem:i}),wx.stopPullDownRefresh()})},keywordFun:function(t){var e=this;if(e.setData({type:e.type,page:1,producturl:[],keyword:t.detail.value}),""!=t.detail.value){1==e.page&&e.setData({tabcontitem:[]});var a=null;clearTimeout(a),a=setTimeout(function(){e.getData()},1e3)}},jhmShow:function(){this.setData({flag:!0,is_code:!0})},closeJhm:function(){this.setData({is_code:!1})},buyJhm:function(t){var e=this,a=this;n.ajaxs("order/videocodeactive",{code:this.code,cl_id:t.currentTarget.dataset.cl_id},function(t){wx.showToast({title:t.msg,mask:!0,duration:2e3}),e.setData({is_code:!1}),wx.navigateTo({url:"/pages/hncjiaoxue_intro/hncjiaoxue_intro?vp_id="+a.vp_ids+"&title="+a.titles})})},changeInput:function(t){var e=t.detail.value;this.setData({code:e})},collectF:function(t){var e=this,a=t.currentTarget.dataset;n.ajaxs("goods/goodsCollect",{p_id:a.p_id},function(t){if(1==t.status){var i=e.tabcontitems;i[a.index].if_collect=!i[a.index].if_collect,e.setData({tabcontitems:i})}else wx.showModal({title:"错误提示",content:"收藏失败",showCancel:!1})})},getDataGoods:function(){var t=this,e={page:t.pages,page_size:t.page_size,gd_id:t.gd_id};t.counts<t.pages?wx.showToast({title:"暂无更多信息",icon:"none"}):n.ajaxs("goods/goodsList",e,function(e){var a=t.tabcontitems;t.setData({pages:t.pages+1,counts:e.data.count>1?e.data.count:1,tabcontitems:a.concat(e.data.list)}),wx.stopPullDownRefresh()})},toUrl:function(t){wx.navigateTo({url:t.currentTarget.dataset.url})},handleTapGoods:function(t){var e=this,a=t.currentTarget.dataset.index,i=t.currentTarget.dataset.gd_id;e.setData({currentIds:a,gd_id:i,pages:1,tabcontitems:[],counts:1}),e.getDataGoods()},details:function(t){var e=t.currentTarget.dataset.p_id;wx.navigateTo({url:"/pages/onlinestore/productDetail/productDetail?p_id="+e})},add:function(t){var e=t.currentTarget.dataset.p_id;if(e){var a={p_id:e};n.ajaxs("cart/add",a,function(t){wx.showToast({title:t.msg})})}else wx.showToast({title:"网络异常.."})},go:function(){this.setData({showModal:!1})}}),i);e.default=c},"853f":function(t,e,a){"use strict";a.r(e);var i=a("848a"),o=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);e["default"]=o.a},d197:function(t,e,a){"use strict";(function(t){a("f9cd"),a("921b");i(a("66fd"));var e=i(a("82ac"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},f104:function(t,e,a){}},[["d197","common/runtime","common/vendor"]]]);