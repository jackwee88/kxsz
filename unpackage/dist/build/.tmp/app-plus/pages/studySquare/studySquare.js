(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/studySquare/studySquare"],{1675:function(t,e,a){"use strict";a.r(e);var s=a("b5fc"),u=a.n(s);for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);e["default"]=u.a},"2ce9":function(t,e,a){"use strict";var s,u=function(){var t=this,e=t.$createElement;t._self._c},i=[];a.d(e,"b",function(){return u}),a.d(e,"c",function(){return i}),a.d(e,"a",function(){return s})},"3c0b":function(t,e,a){},"4a68":function(t,e,a){"use strict";var s=a("3c0b"),u=a.n(s);u.a},"7b67":function(t,e,a){"use strict";(function(t){a("f9cd"),a("921b");s(a("66fd"));var e=s(a("cd74"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},b5fc:function(t,e,a){"use strict";(function(t,s){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=a("60db");i(a("ec2b"));function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var n={data:function(){return{back:"",host:getApp().globalData.requestUrl,quanziText:"多读书 读好书",dakaNum:"180",studylist:[],show:!1,page:1,page_size:10,count:1,type:1,is_wait:"",comment_num:0,release:[{name:"1",textareaValue:"sfdf"}],smodel:"",wait:"",is_give:"",thumbs_times:"",releaseFocus:!1,releaseValue:"",item:"",indeNum:""}},components:{},props:{},onLoad:function(){this.getData();var t=getCurrentPages();t[t.length-2]},onPullDownRefresh:function(){var t=this;t.setData({page:1,studylist:[],count:1}),t.getData()},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onReachBottom:function(){var t=this;t.getData()},onShareAppMessage:function(t){if("button"===t.from){var e=t.target.dataset.nickname,a=e+"的打卡日记",s=t.target.dataset.image,u=t.target.dataset.video;if(s)var i=s;else if(u)i=u+"?spm=a2c4g.11186623.2.1.yjOb8V&x-oss-process=video/snapshot,t_0000,f_jpg,w_800,h_600,m_fast";return{title:a,path:"/pages/myPublished/myPublished?dy_id="+t.target.dataset.dy_id+"&is_share=1",imageUrl:i,success:function(t){}}}return{title:"开心书写",path:"pages/index/index?myshare=1&tourl=/pages/studySquare/studySquare"}},methods:{setData:function(t){for(var e in t){var a=t[e];this[e]=a}},praise:function(e){var a=this,i=this,r=e.currentTarget.dataset.index,n=e.currentTarget.dataset.dy_id;t("log","123"+n," at pages\\studySquare\\studySquare.vue:334"),(0,u.ajax)({url:"study/praiseStudy",data:{dy_id:n},success:function(t){var e=i.studylist;1==t.data.data.is_ok?(a.studylist[r].is_give=!e[r].is_give,a.studylist[r].thumbs_times=e[r].thumbs_times+1,s.showToast({title:"点赞成功",icon:"none"})):(a.studylist[r].is_give=!e[r].is_give,a.studylist[r].thumbs_times=e[r].thumbs_times-1)}})},gotoPublished:function(e){t("log","this.type"+this.type," at pages\\studySquare\\studySquare.vue:363");var a={dy_id:e.currentTarget.dataset.dy_id,index:e.currentTarget.dataset.index,browse_times:e.currentTarget.dataset.browse_times,comment_count:e.currentTarget.dataset.comment_count,thumbs_times:e.currentTarget.dataset.thumbs_times,type:2};s.navigateTo({url:"../myPublished/myPublished?pulishedDetail="+encodeURIComponent(JSON.stringify(a))})},gotoUserInfo:function(e){t("log",e.currentTarget.dataset.uid+"123"," at pages\\studySquare\\studySquare.vue:379");var a={uid:e.currentTarget.dataset.uid};s.navigateTo({url:"../userInfo/otherInfo?infoDetail="+encodeURIComponent(JSON.stringify(a))})},getData:function(){var e=this;this.studylist;this.count<this.page?s.showToast({title:"暂无更多信息"}):(0,u.ajax)({url:"study/studyList",data:{page:this.page,page_size:this.page_size,type:this.type},success:function(a){t("log",a.data.data," at pages\\studySquare\\studySquare.vue:402");var s=a.data.data,u=s.list,i=s.count;e.studylist=u;for(var r=e.studylist,n={method:"pause"},o=0;o<u.length;o++)u[o].if_input=!1,u[o].fullScreen=!1,u[o].picture_arr.length>0&&(u[o].poster=u[o].picture_arr[0]),u[o].action=n,u[o].name=u[o].nickname+"的音频";e.page=e.page+1,e.count=i>1?a.data.data.count:1,e.studylist=r.concat(u),t("log",e.type," at pages\\studySquare\\studySquare.vue:424")}})},showmore:function(){this.show?this.setData({show:!1}):this.setData({show:!0})},ifinput:function(t){var e=this,a=t.currentTarget.dataset.index,s=e.studylist;s[a].if_input=!s[a].if_input,e.setData({studylist:s})},formSubmit:function(e){if(t("log","form发生了submit事件，携带数据为：",e.detail.value," at pages\\studySquare\\studySquare.vue:453"),""==e.detail.value.input)s.showToast({title:"请输入内容"});else{var a={},u=e.detail.value.input,i=this.release;i.length;a.textareaValue=u,i.push(a),this.setData({release:i,releaseFocus:!0,releaseValue:""}),t("log",i," at pages\\studySquare\\studySquare.vue:474")}},gotoGrowthDairy:function(t){var e=t.currentTarget.dataset.uid,a=t.currentTarget.dataset.pid,u=t.currentTarget.dataset.index,i=t.currentTarget.dataset.thumbs_times;getApp().globalData.preview=!1,s.navigateTo({url:"../growthDiary/growthDiary?uid="+e+"&pid="+a+"&index="+u+"&type=1&thumbs_times="+i})},changeOil:function(e){t("log","改变世界"," at pages\\studySquare\\studySquare.vue:489"),t("log",e.target.dataset.type," at pages\\studySquare\\studySquare.vue:490");var a=this;this.type=e.target.dataset.type,this.page=1,this.studylist=[],this.count=1,this.show=!1,a.getData()},toWhere:function(t){var e=t.currentTarget.dataset.url;s.navigateTo({url:e})},getoShop:function(){var t=this;s.request({url:getApp().globalData.requestUrl+"/api/index/storeStartPage",method:"post",data:"",header:{"content-type":"application/json",token:s.getStorageSync("token")},success:function(e){t.setData({smodel:e.data.data.smodel,is_wait:1}),s.navigateTo({url:"/pages/catalogues/catalogues"})},fail:function(){return s.hideLoading(),s.showModal({title:"网络错误",content:"网络出错，请刷新重试",showCancel:!1}),"function"==typeof cb&&cb(!1)}})},previewImg:function(t){var e=t.currentTarget.dataset.src,a=t.currentTarget.dataset.pic_arr,u=a.split(",");s.previewImage({current:e,urls:u})},growthDaily:function(t){var e=t.currentTarget.dataset.uid,a=t.currentTarget.dataset.pid,u=t.currentTarget.dataset.index,i=t.currentTarget.dataset.thumbs_times;s.navigateTo({url:"../myPublished/myPublished?uid="+e+"&pid="+a+"&index="+u+"&type=2&thumbs_times="+i})},playVideo:function(t){var e=t.currentTarget.dataset.src;s.navigateTo({url:"../video/video?src="+e})},playorpause:function(t){var e=this,a=t.target.dataset.index,s="studylist["+a+"].action",u={method:"play"},i={method:"pause"};if("pause"==e.studylist[a].action.method){e.setData(r({},s,u));for(var n=0;n<e.studylist.length;n++)if(a!=n){var o="studylist["+n+"].action";e.setData(r({},o,i))}}else e.setData(r({},s,i))},toTop:function(t){var e=this;e.pageScrollTo({scrollTop:0,duration:0})}}};e.default=n}).call(this,a("0de9")["default"],a("6e42")["default"])},cd74:function(t,e,a){"use strict";a.r(e);var s=a("2ce9"),u=a("1675");for(var i in u)"default"!==i&&function(t){a.d(e,t,function(){return u[t]})}(i);a("4a68");var r,n=a("f0c5"),o=Object(n["a"])(u["default"],s["b"],s["c"],!1,null,"179d9522",null,!1,s["a"],r);e["default"]=o.exports}},[["7b67","common/runtime","common/vendor"]]]);