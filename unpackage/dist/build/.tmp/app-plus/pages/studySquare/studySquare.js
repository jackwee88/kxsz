(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/studySquare/studySquare"],{1675:function(t,e,a){"use strict";a.r(e);var s=a("b5fc"),i=a.n(s);for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},"7b67":function(t,e,a){"use strict";(function(t){a("f9cd"),a("921b");s(a("66fd"));var e=s(a("cd74"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("6e42")["createPage"])},"98c2":function(t,e,a){"use strict";var s=a("fba6"),i=a.n(s);i.a},b5fc:function(t,e,a){"use strict";(function(t){function a(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={data:function(){return{back:"",host:getApp().globalData.requestUrl,quanziText:"多读书 读好书",dakaNum:"180",studylist:[],show:!1,page:1,page_size:10,count:1,type:1,is_wait:"",comment_num:0,release:[{name:"1",textareaValue:"sfdf"}],smodel:"",wait:"",is_give:"",thumbs_times:"",releaseFocus:!1,releaseValue:"",item:"",indeNum:""}},components:{},props:{},onLoad:function(t){var e=this;e.setData({page:1,page_size:this.page_size,studylist:[]}),e.getData();var a=getCurrentPages(),s=a[a.length-2];s.setData({is_wait:"",wait:""})},onPullDownRefresh:function(){var t=this;t.setData({page:1,studylist:[],count:1}),t.getData()},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onReachBottom:function(){var t=this;t.getData()},onShareAppMessage:function(t){if("button"===t.from){var e=t.target.dataset.nickname,a=e+"的打卡日记",s=t.target.dataset.image,i=t.target.dataset.video;if(s)var n=s;else if(i)n=i+"?spm=a2c4g.11186623.2.1.yjOb8V&x-oss-process=video/snapshot,t_0000,f_jpg,w_800,h_600,m_fast";return{title:a,path:"/pages/myPublished/myPublished?dy_id="+t.target.dataset.dy_id+"&is_share=1",imageUrl:n,success:function(t){}}}return{title:"开心书写",path:"pages/index/index?myshare=1&tourl=/pages/studySquare/studySquare"}},methods:{praise:function(t){var e=this,s=t.currentTarget.dataset.index,i=t.currentTarget.dataset.dy_id;util.ajax("/api/study/praiseStudy",{dy_id:i},function(t){var i,n,r=e.studylist,u="studylist["+s+"].is_give",o="studylist["+s+"].thumbs_times";t.data.is_ok?e.setData((i={},a(i,u,!r[s].is_give),a(i,o,r[s].thumbs_times+1),i)):e.setData((n={},a(n,u,!r[s].is_give),a(n,o,r[s].thumbs_times-1),n))})},details:function(t){var e=t.currentTarget.dataset.dy_id,a=t.currentTarget.dataset.index,s=t.currentTarget.dataset.browse_times,i=t.currentTarget.dataset.comment_count,n=t.currentTarget.dataset.thumbs_times;wx.navigateTo({url:"../myPublished/myPublished?dy_id="+e+"&index="+a+"&browse_times="+s+"&type=2&comment_count="+i+"&thumbs_times="+n})},getData:function(){var t=this,e={page:t.page,page_size:t.page_size,type:t.type};t.studylist;t.count<t.page?wx.showToast({title:"暂无更多信息"}):util.ajax("/api/study/studyList",e,function(e){for(var s,i=t.studylist,n=e.data.list,r={method:"pause"},u=0;u<n.length;u++)n[u].if_input=!1,n[u].fullScreen=!1,n[u].picture_arr.length>0&&(n[u].poster=n[u].picture_arr[0]),n[u].action=r,n[u].name=n[u].nickname+"的音频";t.setData((s={page:t.page+1},a(s,"page",t.page+1),a(s,"count",e.data.count>1?e.data.count:1),a(s,"studylist",i.concat(n)),s)),wx.stopPullDownRefresh()})},showmore:function(){this.show?this.setData({show:!1}):this.setData({show:!0})},ifinput:function(t){var e=this,a=t.currentTarget.dataset.index,s=e.studylist;s[a].if_input=!s[a].if_input,e.setData({studylist:s})},formSubmit:function(e){if(t("log","form发生了submit事件，携带数据为：",e.detail.value," at pages\\studySquare\\studySquare.vue:395"),""==e.detail.value.input)wx.showToast({title:"请输入内容"});else{var a={},s=e.detail.value.input,i=this.release;i.length;a.textareaValue=s,i.push(a),this.setData({release:i,releaseFocus:!0,releaseValue:""}),t("log",i," at pages\\studySquare\\studySquare.vue:417")}},changeOil:function(t){if(2==t.target.dataset.type)return this.setData({type:t.target.dataset.type}),void wx.navigateTo({url:"/pages/brain/brain"});var e=this;e.setData({type:t.target.dataset.type,page:1,studylist:[],count:1,show:!1}),e.getData()},toWhere:function(t){var e=t.currentTarget.dataset.url;wx.navigateTo({url:e})},getoShop:function(){var t=this;wx.request({url:getApp().globalData.requestUrl+"/api/index/storeStartPage",method:"post",data:"",header:{"content-type":"application/json",token:wx.getStorageSync("token")},success:function(e){t.setData({smodel:e.data.data.smodel,is_wait:1}),wx.navigateTo({url:"/pages/catalogues/catalogues"})},fail:function(){return wx.hideLoading(),wx.showModal({title:"网络错误",content:"网络出错，请刷新重试",showCancel:!1}),"function"==typeof cb&&cb(!1)}})},previewImg:function(t){var e=t.currentTarget.dataset.src,a=t.currentTarget.dataset.pic_arr;wx.previewImage({current:e,urls:a})},growthDaily:function(t){var e=t.currentTarget.dataset.uid,a=t.currentTarget.dataset.pid,s=t.currentTarget.dataset.index,i=t.currentTarget.dataset.thumbs_times;wx.navigateTo({url:"../growthDiary/growthDiary?uid="+e+"&pid="+a+"&index="+s+"&type=2&thumbs_times="+i})},playVideo:function(t){var e=t.currentTarget.dataset.src;wx.navigateTo({url:"../video/video?src="+e})},playorpause:function(t){var e=this,s=t.target.dataset.index,i="studylist["+s+"].action",n={method:"play"},r={method:"pause"};if("pause"==e.studylist[s].action.method){e.setData(a({},i,n));for(var u=0;u<e.studylist.length;u++)if(s!=u){var o="studylist["+u+"].action";e.setData(a({},o,r))}}else e.setData(a({},i,r))},toTop:function(t){var e=this;e.pageScrollTo({scrollTop:0,duration:0})}}};e.default=s}).call(this,a("0de9")["default"])},cd74:function(t,e,a){"use strict";a.r(e);var s=a("ef51"),i=a("1675");for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);a("98c2");var r,u=a("f0c5"),o=Object(u["a"])(i["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],r);e["default"]=o.exports},ef51:function(t,e,a){"use strict";var s,i=function(){var t=this,e=t.$createElement;t._self._c},n=[];a.d(e,"b",function(){return i}),a.d(e,"c",function(){return n}),a.d(e,"a",function(){return s})},fba6:function(t,e,a){}},[["7b67","common/runtime","common/vendor"]]]);